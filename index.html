<!DOCTYPE html>
<html>
	<head>
		<style>
		</style>
	</head>
	<body>
		<canvas width="200" height="300" id="paint_area">
			<img id="treble" src="http://library.thinkquest.org/10764/ThinkQuest/cave1/images/treble.gif" />
			<img id="bass" src="http://www.clipart.clipartist.net/clipartist.net/openclipart/art/bass_clef_xxl.png" />
		</canvas>
		<script>
			var ctx = document.getElementById('paint_area').getContext('2d');

			//create and fill the rectangle
			ctx.fillStyle = '#EEEEEE';
			ctx.fillRect(0,0,500,500);

			//make the clef lines
			for (var y = 25.5, l = 1; y < 250; y += 25, l++) {
				//account for outer lines
				if(l < 3 || l > 7){
					ctx.moveTo(120, y);
					ctx.lineTo(180, y);
				}else{
					ctx.moveTo(0, y);
					ctx.lineTo(375, y);
				}
			}
			ctx.strokeStyle = "#333";
			ctx.stroke();


			//start a new path to make the notes with
			ctx.beginPath();
			//just make a constant pi so we don't have to keep recalculating it over and over for each note
			var constPI = Math.PI * 2;

			//generate one note for each line/space and then determine what note it is dependant upon with clef it is on
			var notes = [
				{"x":150,"y":13,"r":15,"sA":0,"eA":constPI,"acw":false,"treble":"D", "base":"F"},
				{"x":150,"y":25,"r":15,"sA":0,"eA":constPI,"acw":false,"treble":"C", "base":"E"},
				{"x":150,"y":38,"r":15,"sA":0,"eA":constPI,"acw":false,"treble":"B", "base":"D"},
				{"x":150,"y":50,"r":15,"sA":0,"eA":constPI,"acw":false,"treble":"A", "base":"C"},
				{"x":150,"y":63,"r":15,"sA":0,"eA":constPI,"acw":false,"treble":"G", "base":"B"},
				{"x":150,"y":75,"r":15,"sA":0,"eA":constPI,"acw":false,"treble":"F", "base":"A"},
				{"x":150,"y":88,"r":15,"sA":0,"eA":constPI,"acw":false,"treble":"E", "base":"G"},
				{"x":150,"y":100,"r":15,"sA":0,"eA":constPI,"acw":false,"treble":"D", "base":"F"},
				{"x":150,"y":113,"r":15,"sA":0,"eA":constPI,"acw":false,"treble":"C", "base":"E"},
				{"x":150,"y":125,"r":15,"sA":0,"eA":constPI,"acw":false,"treble":"B", "base":"D"},
				{"x":150,"y":138,"r":15,"sA":0,"eA":constPI,"acw":false,"treble":"A", "base":"C"},
				{"x":150,"y":150,"r":15,"sA":0,"eA":constPI,"acw":false,"treble":"G", "base":"B"},
				{"x":150,"y":163,"r":15,"sA":0,"eA":constPI,"acw":false,"treble":"F", "base":"A"},
				{"x":150,"y":175,"r":15,"sA":0,"eA":constPI,"acw":false,"treble":"E", "base":"G"},
				{"x":150,"y":188,"r":15,"sA":0,"eA":constPI,"acw":false,"treble":"D", "base":"F"},
				{"x":150,"y":200,"r":15,"sA":0,"eA":constPI,"acw":false,"treble":"C", "base":"E"},
				{"x":150,"y":213,"r":15,"sA":0,"eA":constPI,"acw":false,"treble":"B", "base":"D"},
				{"x":150,"y":225,"r":15,"sA":0,"eA":constPI,"acw":false,"treble":"A", "base":"C"},
				{"x":150,"y":238,"r":15,"sA":0,"eA":constPI,"acw":false,"treble":"G", "base":"B"}
			];

			//draw a random note
			var note = notes[(Math.floor(Math.random() * notes.length))];
			ctx.arc(note["x"], note["y"], note["r"], note["sA"], note["eA"], note["acw"]);
			ctx.closePath();
			ctx.strokeStyle = "#000";
			ctx.stroke();
			ctx.fillStyle = "#000";
			ctx.fill();

			//generate the clefs
			var clefs = [
				{"name": "treble","x": 10,"y": 50,"width": 50,"height": 175},
				{"name": "bass","x": 10,"y": 75,"width": 60,"height": 87}
			]

			//draw one random clef
			clef = clefs[(Math.floor(Math.random() * clefs.length))];
			var clefDOM = document.getElementById(clef.name);
			ctx.drawImage(clefDOM, clef.x, clef.y, clef.width, clef.height);


			/* this is only for mouse interaction */
			var down = false;
			ctx.canvas.addEventListener('mousedown', function() { down = true; }, false);
			ctx.canvas.addEventListener('mouseup', function() { down = false; }, false);
			ctx.canvas.addEventListener('mousemove', function(event) {
				if (down) {
					ctx.translate(0,-50);
					ctx.drawImage(img_buffer, event.clientX - this.offsetLeft,
					event.clientY - this.offsetTop,100,100);
					ctx.translate(0,50);
				}
			}, false);
		</script>

	<!-- http://diveintohtml5.org/canvas.html#divingin -->
	<!-- http://playground.html5rocks.com/#canvas_tag -->
	</body>
</html>