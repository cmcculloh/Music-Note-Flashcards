/*! my-project-name 2014-10-04 */
window.flashCards={canvas:{dom:null,color:"#EEEEEE",height:500,width:500},staff:{shortLines:{startX:120,stopX:180,number:2},lines:{startX:0,stopX:375},startY:25.5,stopY:250,spacing:25,color:"#333"},currentNote:{noteNumber:null,clef:null},getCurrentNote:function(){return flashCards.notes.list[flashCards.currentNote.noteNumber].noteByClef[flashCards.currentNote.clef].note},init:function(){flashCards.canvas.dom=document.getElementById("paint_area").getContext("2d"),flashCards.refresh(),$(".answer").on("click",flashCards.clickAnswer)},clickAnswer:function(a){a.preventDefault();var b=$(a.currentTarget).val(),c=flashCards.getCurrentNote(),d=b===c,e=d?"Right!":"Wrong!";$("#results").html(e+" guess: "+b+"; answer: "+c),flashCards.refresh(d)},resetCanvas:function(){var a,b,c,d,e;b=flashCards.canvas,a=b.dom,c=flashCards.staff,d=c.shortLines,e=c.lines,a.fillStyle=b.color,a.fillRect(0,0,b.height,b.width),a.beginPath();for(var f=c.startY,g=1;f<c.stopY;f+=c.spacing,g++)g<=d.number||g>d.number+5?(a.moveTo(d.startX,f),a.lineTo(d.stopX,f)):(a.moveTo(e.startX,f),a.lineTo(e.stopX,f));return a.strokeStyle=c.color,a.stroke(),a.closePath(),a},notes:{x:150,spacing:12.5,radius:15,sA:0,eA:2*Math.PI,acw:!1,color:"#000",list:[{steps:1,noteByClef:[{note:"D",answered:0},{note:"F",answered:0}]},{steps:2,noteByClef:[{note:"C",answered:0},{note:"E",answered:0}]},{steps:3,noteByClef:[{note:"B",answered:0},{note:"D",answered:0}]},{steps:4,noteByClef:[{note:"A",answered:0},{note:"C",answered:0}]},{steps:5,noteByClef:[{note:"G",answered:0},{note:"B",answered:0}]},{steps:6,noteByClef:[{note:"F",answered:0},{note:"A",answered:0}]},{steps:7,noteByClef:[{note:"E",answered:0},{note:"G",answered:0}]},{steps:8,noteByClef:[{note:"D",answered:0},{note:"F",answered:0}]},{steps:9,noteByClef:[{note:"C",answered:0},{note:"E",answered:0}]},{steps:10,noteByClef:[{note:"B",answered:0},{note:"D",answered:0}]},{steps:11,noteByClef:[{note:"A",answered:0},{note:"C",answered:0}]},{steps:12,noteByClef:[{note:"G",answered:0},{note:"B",answered:0}]},{steps:13,noteByClef:[{note:"F",answered:0},{note:"A",answered:0}]},{steps:14,noteByClef:[{note:"E",answered:0},{note:"G",answered:0}]},{steps:15,noteByClef:[{note:"D",answered:0},{note:"F",answered:0}]},{steps:16,noteByClef:[{note:"C",answered:0},{note:"E",answered:0}]},{steps:17,noteByClef:[{note:"B",answered:0},{note:"D",answered:0}]},{steps:18,noteByClef:[{note:"A",answered:0},{note:"C",answered:0}]},{steps:19,noteByClef:[{note:"G",answered:0},{note:"B",answered:0}]}]},clefs:[{name:"treble",x:10,y:50,width:50,height:175},{name:"bass",x:10,y:75,width:60,height:87}],noteLetter:{color:"#000",font:"bold 30px sans-serif",x:10,y:275,backgroundSquare:{x:5,y:245,width:35,height:35}},refreshNotes:function(){var a,b,c,d,e,f;a=flashCards.canvas.dom,b=flashCards.notes,a.beginPath(),f=Math.floor(Math.random()*b.list.length),flashCards.currentNote.noteNumber=f,c=b.list[f],a.arc(b.x,b.spacing*c.steps,b.radius,b.sA,b.eA,b.acw),a.closePath(),a.strokeStyle=b.color,a.stroke(),a.fillStyle=b.color,a.fill(),clefNumber=Math.floor(Math.random()*flashCards.clefs.length),flashCards.currentNote.clef=clefNumber,d=flashCards.clefs[clefNumber],e=document.getElementById(d.name),a.drawImage(e,d.x,d.y,d.width,d.height),a.canvas.addEventListener("mousedown",function(){var b,d;b=flashCards.noteLetter,d=b.backgroundSquare,a.fillStyle=flashCards.canvas.color,a.fillRect(d.x,d.y,d.width,d.height),a.font=b.font,a.fillStyle=b.color,a.fillText(c.noteByClef[flashCards.currentNote.clef].note,b.x,b.y)},!1)},refresh:function(a){"undefined"!=typeof a&&flashCards.score(a),flashCards.resetCanvas(),flashCards.refreshNotes()},score:function a(b){var a=0;b?flashCards.notes.list[flashCards.currentNote.noteNumber].noteByClef[flashCards.currentNote.clef].answered++:flashCards.notes.list[flashCards.currentNote.noteNumber].noteByClef[flashCards.currentNote.clef].answered=0;for(var c=0,d=flashCards.notes.list.length;d>c;c++)for(var e=0,f=flashCards.notes.list[c].noteByClef.length;f>e;e++)a+=flashCards.notes.list[c].noteByClef[e].answered;document.getElementById("currScore").innerHTML=a}},flashCards.init();